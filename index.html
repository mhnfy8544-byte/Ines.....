<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù…ÙØ§Ø¬Ø£Ø© Ø¥ÙŠÙ†Ø§Ø³ â€” Ù…Ù„ÙŠØ§Ù†Ø© Ø­Ø¨ ğŸ‰</title>
<style>
  :root{ --bg1:#071022; --accent1:#ff6fb5; --accent2:#ffd56b; --muted:rgba(255,255,255,0.75); }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:"Tajawal",system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    background:linear-gradient(180deg,#051021 0%,#071028 50%,#0b1220 100%);
    color:#fff;padding:18px; -webkit-font-smoothing:antialiased; overflow-x:hidden;
  }
  .wrap{max-width:980px;margin:0 auto}
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;padding:20px;border:1px solid rgba(255,255,255,0.04);
    box-shadow:0 30px 80px rgba(0,0,0,0.6); position:relative; overflow:hidden;
  }
  header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{width:60px;height:60px;border-radius:12px;background:linear-gradient(90deg,var(--accent1),#ff9acb);display:flex;align-items:center;justify-content:center;color:#2b0b2b;font-weight:900}
  h1{font-size:18px}
  p.small{color:var(--muted);font-size:13px}

  /* STAGES */
  .stage-wrap{display:flex;flex-direction:column;gap:16px}
  .stage{display:none;flex-direction:column;align-items:center;gap:12px;padding:18px;text-align:center}
  .stage.active{display:flex;animation:stageIn .6s cubic-bezier(.2,.9,.2,1) both}
  @keyframes stageIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

  img.qphoto{width:220px;height:220px;border-radius:18px;object-fit:cover;border:6px solid rgba(255,255,255,0.06);box-shadow:0 18px 50px rgba(0,0,0,0.5)}
  .question{font-weight:900;color:#ffdce6;font-size:clamp(18px,3vmin,26px)}
  .controls{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:8px}
  .btn{padding:10px 18px;border-radius:999px;border:none;cursor:pointer;font-weight:800;background:linear-gradient(90deg,var(--accent1),#ff9acb);color:#fff;box-shadow:0 12px 30px rgba(255,111,181,0.12)}
  .btn.alt{background:linear-gradient(90deg,#6be6ff,#65e6cc);color:#053}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
  .hint{font-size:13px;color:var(--muted)}

  /* full final screen (solo) */
  .full-final{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9999;
    background: radial-gradient(circle at 50% 20%, rgba(255,200,240,0.06), transparent 12%), linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.75));
    pointer-events:auto;flex-direction:column;gap:18px;padding:30px;text-align:center;opacity:0;transform:scale(.98) translateY(8px);
    transition:opacity .5s ease, transform .6s cubic-bezier(.2,.9,.2,1);
  }
  .full-final.show{opacity:1;transform:none}
  .final-giant{
    font-size:clamp(30px,7vmin,78px);font-weight:900;line-height:1.02;
    background:linear-gradient(90deg,#fff 0%, #ffd6ec 25%, #fff9c4 50%, #ffd56b 75%, #fff 100%);
    -webkit-background-clip:text;background-clip:text;color:transparent;background-size:220% 100%;
    animation:shine 3.4s linear infinite;text-shadow:0 28px 80px rgba(255,111,181,0.12);padding:4px 8px;
  }
  .final-note{font-size:20px;color:var(--muted);font-weight:700}
  @keyframes shine{0%{background-position:200% 0}100%{background-position:-200% 0}}

  /* surprises & confetti */
  #surprises{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:7000;overflow:hidden}
  .surprise-item{position:absolute;will-change:transform,opacity;pointer-events:none;transform-origin:center center;opacity:0;filter:drop-shadow(0 8px 24px rgba(0,0,0,0.35));}

  /* audio UI */
  #audioBtn{position:fixed;top:12px;left:12px;z-index:10001;background:linear-gradient(90deg,#fff,#ffd6ec);color:#2b0b2b;border-radius:999px;padding:8px 12px;border:none;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.35)}
  #playHint{position:fixed;top:12px;right:12px;z-index:10001;background:rgba(0,0,0,0.45);color:#fff;padding:8px 12px;border-radius:8px;font-size:13px;backdrop-filter: blur(6px);}

  @media (max-width:720px){ img.qphoto{width:160px;height:160px} .final-giant{font-size:36px} }
</style>
</head>
<body>

  <!-- audio: Ø¶Ø¹ Ø§Ù„Ù…Ù„Ù Ø¨Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù… ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯ -->
  <audio id="bgMusic" src="Love Me Not - Ravyn Lenae _lovemenot _ravynlenae _lyrics _song _fyp(MP3).mp3" loop autoplay playsinline></audio>
  <button id="audioBtn" aria-label="toggle music">â–¶ï¸ Play</button>
  <div id="playHint">Ø§Ø¶ØºØ· Ù„ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰</div>

  <div class="wrap" id="mainWrap">
    <div class="card" id="card">
      <header>
        <div class="brand">
          <div class="logo">IğŸ’—</div>
          <div><h1>Surprise â€” Einas</h1><p class="small">Ø§Ø¶ØºØ·ÙŠ Ù†Ø¹Ù… Ù„Ùˆ Ø§Ù†ØªÙŠ Ø¥ÙŠÙ†Ø§Ø³ â€” Ø§Ù„Ù‡Ø¯ÙŠØ© ØªÙ†ØªØ¸Ø±Ùƒ ğŸ</p></div>
        </div>
        <div class="center"><div class="muted">Ù…ÙØ§Ø¬Ø¢ØªØŒ ÙˆØ±ÙˆØ¯ØŒ Ù‚Ù„ÙˆØ¨ØŒ ÙƒÙˆÙ†ÙÙŠØªÙŠ â€” Ø§Ø³ØªÙ…ØªØ¹ÙŠ</div></div>
      </header>

      <div class="stage-wrap" id="stages">
        <!-- stage 1 -->
        <section class="stage active" data-stage="1" id="stage1">
          <img src="7cdd50beffb0c2b78f4126778defa089.jpg" alt="q1" class="qphoto" id="qphoto1">
          <div class="question">Ø§Ù†ØªÙ Ø¥ÙŠÙ†Ø§Ø³ØŸ</div>
          <div class="controls">
            <button class="btn" id="yes1">Ù†Ø¹Ù… Ø¥ÙŠÙ†Ø§Ø³</button>
            <button class="btn alt" id="no1">Ù„Ø§ Ù„Ø³Øª Ø§Ù†Ø§</button>
          </div>
          <div class="hint">Ø§Ø¶ØºØ·ÙŠ Ù†Ø¹Ù… Ù„Ùˆ Ø§Ù†ØªÙŠ Ø¥ÙŠÙ†Ø§Ø³ â€” Ø§Ù„Ù‡Ø¯ÙŠØ© ØªÙ†ØªØ¸Ø±Ùƒ âœ¨</div>
        </section>

        <!-- stage 2 -->
        <section class="stage" data-stage="2" id="stage2">
          <img src="4807c65fbbf411baf902b021197c0ce7.jpg" alt="q2" class="qphoto" id="qphoto2">
          <div class="question">Ø¹Ù†Ø¯ÙŠ Ù…ÙØ§Ø¬Ø£Ø© ØµØºÙŠØ±Ø© Ù„ÙƒÙ ğŸ™ˆ</div>
          <div class="controls">
            <button class="btn" id="ok2">ÙŠØ¨ ÙŠØ¨ ÙˆØ´ Ù‡ÙŠ</button>
            <button class="btn ghost" id="skip2">Ù„Ø§ Ø§Ù„Ø¢Ù†</button>
          </div>
          <div class="hint">Ø§Ø¶ØºØ·ÙŠ "ÙŠØ¨ ÙŠØ¨ ÙˆØ´ Ù‡ÙŠ" Ù„Ùˆ ØªØ­Ø¨ÙŠÙ† Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©</div>
        </section>

        <!-- stage 3 -->
        <section class="stage" data-stage="3" id="stage3">
          <img src="Screenshot_2026-01-28-13-14-01-173_com.google.android.googlequicksearchbox-edit.jpg" alt="q3" class="qphoto" id="qphoto3">
          <div class="question">Ù…Ø³ØªØ¹Ø¯Ø©ØŸ</div>
          <div class="controls">
            <button class="btn" id="ready3">Ù…Ø³ØªØ¹Ø¯Ø©</button>
            <button class="btn alt" id="later3">Ø§Ù†ØªØ¸Ø± Ø´ÙˆÙŠ</button>
          </div>
          <div class="hint">Ø§Ø¶ØºØ·ÙŠ "Ù…Ø³ØªØ¹Ø¯Ø©" Ù„Ùˆ Ø§Ù†ØªÙŠ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ù…ÙØ§Ø¬Ø£Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰</div>
        </section>

        <!-- stage 4 -->
        <section class="stage" data-stage="4" id="stage4">
          <img src="Screenshot_2026-01-28-13-14-29-286_com.google.android.googlequicksearchbox-edit.jpg" alt="q4" class="qphoto" id="qphoto4">
          <div class="question">Ø­Ø³Ù†Ø§Ù‹ â€” Ø¬Ù‡Ø²ÙŠ Ù‚Ù„Ø¨Ùƒ ğŸ’—</div>
          <div class="controls">
            <button class="btn" id="finalBtn">Ø§Ø¶ØºØ·ÙŠ Ù„ÙØªØ­ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©</button>
          </div>
          <div class="hint">Ø§Ø¶ØºØ·ÙŠ Ù„ÙØªØ­ Ø§Ù„Ù‡Ø¯ÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</div>
        </section>
      </div>

      <div style="margin-top:12px;text-align:center" class="muted">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ØµÙˆØ± ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª â€” Ø§Ø³ØªØ®Ø¯Ù…ÙŠ Ù†ÙØ³ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</div>
    </div>
  </div>

  <div id="surprises" aria-hidden="true"></div>

  <!-- full-screen final (solo) -->
  <div id="finalScreen" class="full-final" aria-hidden="true" style="display:none">
    <div class="final-giant" id="finalGiant">ÙƒÙ„ Ø³Ù†Ø© Ùˆ Ø§Ù†Øª Ø§ØºÙ„Ù‰ ÙˆØ§Ø¬Ù…Ù„ Ø§Ù†Ø³Ø§Ù† Ù…Ø± ÙØ­ÙŠØ§ØªÙŠ Ùˆ Ù„Ø¹Ù‚ÙˆØ¨Ø© Ù„âˆ (Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ ÙŠØ§ Ø±Ø¨ÙŠğŸ˜…) Ù‚ØµØ¯ Ù„100 Ùˆ Ø§Ø­Ø¨ÙƒğŸ’—</div>
    <div class="final-note" id="finalNote">Ø§Ø¶ØºØ·ÙŠ Ø§Ù„ØµÙˆØ±Ø© Ù„ØªØ¨Ø¯ÙŠÙ„Ù‡Ø§ Ø£Ùˆ Ù„Ù†Ø³Ø® Ø§Ù„Ø¹Ø¨Ø§Ø±Ø©</div>
    <img id="finalImg" src="IMG-20260122-WA0010.jpg" alt="final" style="width:360px;height:360px;border-radius:16px;object-fit:cover;border:10px solid rgba(255,255,255,0.06);margin-top:18px">
  </div>

<script>
(function(){
  // small helpers
  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  function rand(min,max){ return Math.random()*(max-min)+min; }
  function rint(min,max){ return Math.floor(rand(min,max+1)); }

  // init
  const stages = $$('.stage');
  let current = 0;
  function showStage(i){ stages.forEach((s,idx)=> s.classList.toggle('active', idx===i)); current = i; }
  showStage(0);

  // audio control
  const audio = document.getElementById('bgMusic');
  const audioBtn = document.getElementById('audioBtn');
  let playing = false;
  audioBtn.addEventListener('click', async ()=>{
    try{
      if(playing){ audio.pause(); audioBtn.innerText = 'ğŸ”‡ Muted'; playing = false; }
      else { await audio.play(); audioBtn.innerText = 'ğŸ”Š Playing'; playing = true; }
    }catch(err){
      console.warn('Audio play error:', err);
      audioBtn.innerText = 'â–¶ï¸ Play';
      alert('Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ â€” Ø§Ø¶ØºØ·ÙŠ Play Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰');
    }
  });

  // try autoplay
  window.addEventListener('load', async ()=>{
    try{ await audio.play(); audioBtn.innerText = 'ğŸ”Š Playing'; playing = true; }
    catch(e){ audioBtn.innerText = 'â–¶ï¸ Play'; playing = false; console.log('autoplay blocked'); }
  });

  // buttons (guard if not present)
  const safeOn = (sel, fn) => { const el = $(sel); if(el) el.addEventListener('click', fn); };

  safeOn('#yes1', ()=> { showStage(1); tinyCelebrate(); });
  safeOn('#no1', ()=> {
    document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:inherit"><div style="text-align:center;color:#fff"><h2>Ù…Ø§ ÙÙŠ Ø´ÙŠ Ù‡Ù†Ø§ â€” Ø¢Ø³Ù ğŸ˜…</h2><p class="muted">Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© Ù…Ø®ØµØµØ© Ù„Ø¥ÙŠÙ†Ø§Ø³ ÙÙ‚Ø·.</p></div></div>';
  });
  safeOn('#ok2', ()=> { showStage(2); tinyCelebrate(); });
  safeOn('#skip2', ()=> { showStage(2); });
  safeOn('#ready3', ()=> { showStage(3); tinyCelebrate(); });
  safeOn('#later3', ()=> { setTimeout(()=> showStage(3), 500); });

  // tiny celebrate helpers
  const surprises = $('#surprises');
  function spawnHearts(cx,cy,count=8){
    for(let i=0;i<count;i++){
      const el = document.createElement('div'); el.className='surprise-item';
      el.style.left = (cx + rand(-150,150)) + 'px'; el.style.top = (cy + rand(-120,120)) + 'px';
      el.style.fontSize = (12 + rand(8,26)) + 'px'; el.style.opacity = 1;
      el.innerText = ['ğŸ’—','ğŸ’–','ğŸ’•'][rint(0,2)];
      surprises.appendChild(el);
      animateFloat(el, rand(1200,2600), rand(-160,160), -rand(120,260), rand(-360,360), 1 + rand(0,0.6));
      setTimeout(()=> el.remove(), 3000 + rand(0,1200));
    }
  }

  // confetti canvas
  let confettiParticles = [];
  const confCanvas = document.createElement('canvas'); confCanvas.id='confCanvas';
  confCanvas.style.position='fixed'; confCanvas.style.left='0'; confCanvas.style.top='0'; confCanvas.style.width='100%'; confCanvas.style.height='100%';
  confCanvas.style.pointerEvents='none'; confCanvas.width = innerWidth; confCanvas.height = innerHeight;
  document.body.appendChild(confCanvas);
  const cctx = confCanvas.getContext('2d');
  window.addEventListener('resize', ()=> { confCanvas.width = innerWidth; confCanvas.height = innerHeight; });

  function spawnConfetti(x,y,amt=100){
    const colors = ['#ff6fb5','#ffd56b','#7be6ff','#65e6cc','#ff9acb','#ffd2e9'];
    for(let i=0;i<amt;i++){
      confettiParticles.push({ x: x + rand(-100,100), y: y + rand(-40,40), vx: rand(-6,6), vy: rand(-10,-3), r: rand(4,12), rot: rand(0,360), vr: rand(-10,10), c: colors[rint(0,colors.length-1)], life: 90 + rint(0,120) });
    }
  }
  function confettiLoop(){
    cctx.clearRect(0,0,confCanvas.width,confCanvas.height);
    for(let i=confettiParticles.length-1;i>=0;i--){
      const p = confettiParticles[i]; p.vy += 0.3; p.x += p.vx; p.y += p.vy; p.rot += p.vr;
      cctx.save(); cctx.translate(p.x,p.y); cctx.rotate(p.rot*Math.PI/180); cctx.fillStyle = p.c; cctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6); cctx.restore();
      p.life--; if(p.life <= 0 || p.y > confCanvas.height + 80) confettiParticles.splice(i,1);
    }
    requestAnimationFrame(confettiLoop);
  }
  confettiLoop();

  function animateFloat(el, duration=1800, dx=0, dy=-200, drot=0, scale=1){
    el.animate([
      { transform: `translate(0px,0px) rotate(0deg) scale(${1})`, opacity:1 },
      { transform: `translate(${dx}px, ${dy/2}px) rotate(${drot/2}deg) scale(${1+(scale-1)/2})`, opacity:0.9 },
      { transform: `translate(${dx}px, ${dy}px) rotate(${drot}deg) scale(${scale})`, opacity:0 }
    ], { duration: duration + Math.random()*600, easing: 'cubic-bezier(.2,.9,.2,1)', iterations:1, fill:'forwards' });
  }

  function tinyCelebrate(){ spawnHearts(window.innerWidth/2, window.innerHeight/2, 10); spawnConfetti(window.innerWidth/2, window.innerHeight/2 - 60, 40); }

  // mass surprises (batched)
  async function spawnMassSurprises(total=1200){
    const batch = 80; let created = 0;
    while(created < total){
      const toCreate = Math.min(batch, total - created);
      for(let i=0;i<toCreate;i++){
        const x = rand(60, window.innerWidth - 60); const y = rand(60, window.innerHeight - 60);
        const t = Math.random();
        if(t < 0.45){ spawnHearts(x,y,1); }
        else if(t < 0.85){
          const el = document.createElement('div'); el.className='surprise-item'; el.style.left = x+'px'; el.style.top = y+'px';
          const size = rint(14,44); el.style.width = size+'px'; el.style.height = size+'px'; el.style.opacity = 1;
          const colors = ['#ff9acb','#ffd56b','#7be6ff','#65e6cc']; const col = colors[rint(0, colors.length-1)];
          el.innerHTML = `<svg viewBox="0 0 24 24" width="${size}" height="${size}" xmlns="http://www.w3.org/2000/svg"><path fill="${col}" d="M12 2c1.1 0 2 .9 2 2 0 1.9-2 4-2 4s-2-2.1-2-4c0-1.1.9-2 2-2zm6 4c1.1 0 2 .9 2 2 0 1.9-2 4-2 4s-2-2.1-2-4c0-1.1.9-2 2-2zM6 6c1.1 0 2 .9 2 2 0 1.9-2 4-2 4s-2-2.1-2-4c0-1.1.9-2 2-2zM18 14c1.1 0 2 .9 2 2 0 1.9-2 4-2 4s-2-2.1-2-4c0-1.1.9-2 2-2zM6 14c1.1 0 2 .9 2 2 0 1.9-2 4-2 4s-2-2.1-2-4c0-1.1.9-2 2-2z"/></svg>`;
          surprises.appendChild(el);
          animateFloat(el, 1200 + rand(0,1600), rand(-140,140), -rand(120,360), rand(-360,360), 1 + rand(0,0.5));
          setTimeout(()=> el.remove(), 2600 + Math.random()*1600);
        } else { spawnConfetti(x,y, rint(8,22) ); }
      }
      created += toCreate; await new Promise(r=>setTimeout(r,60));
    }
  }

  // final button handler (ensure element exists)
  const finalBtn = $('#finalBtn');
  if(finalBtn){
    finalBtn.addEventListener('click', ()=> {
      try{
        // hide main content and show final screen alone
        const mainWrap = document.getElementById('mainWrap');
        if(mainWrap) mainWrap.style.display = 'none';
        const finalScreen = document.getElementById('finalScreen');
        if(finalScreen){ finalScreen.style.display = 'flex'; setTimeout(()=> finalScreen.classList.add('show'), 40); }
        // celebration
        spawnConfetti(window.innerWidth/2, window.innerHeight/2 - 60, 260);
        spawnMassSurprises(1200);
      }catch(err){
        console.error('revealFinal error:', err);
        alert('Ø­ØµÙ„ Ø®Ø·Ø£ Ø§Ø«Ù†Ø§Ø¡ Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©. Ø§ÙØªØ­ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„ (console) ÙˆØ§Ø¨Ø¹Ø«Ù„ÙŠ Ø§Ù„ØµÙˆØ±Ø©.');
      }
    });
  } else {
    console.warn('finalBtn not found in DOM');
  }

  // copy final text or click image hint
  const finalGiant = $('#finalGiant');
  if(finalGiant) finalGiant.addEventListener('click', ()=> { try{ navigator.clipboard.writeText(finalGiant.innerText); alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¹Ø¨Ø§Ø±Ø©!'); }catch(e){} });

  const finalImg = $('#finalImg');
  if(finalImg) finalImg.addEventListener('click', ()=> alert('Ø§Ø³ØªØ¨Ø¯Ù„ÙŠ Ù…Ù„Ù final.jpg ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ù„Ø¹Ø±Ø¶ ØµÙˆØ±ØªÙƒ Ù‡Ù†Ø§.'));

  // Enter moves forward
  document.addEventListener('keydown', e=> { if(e.key === 'Enter'){ if(current < stages.length-1) showStage(current+1); } });

})(); // end IIFE
</script>
</body>
</html>
